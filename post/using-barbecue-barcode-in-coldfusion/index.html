<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/using-barbecue-barcode-in-coldfusion/" title="Using Barbecue Barcode in ColdFusion">Using Barbecue Barcode in ColdFusion</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2007.10.03">2007.10.03</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/coldfusion">coldfusion</a>
        
    

</span>
</footer>

            <p>I was approached today by a coworker about integrating the open source
Java-based barcode library, <a href="http://barbecue.sourceforge.net/">Barbecue</a>,
into ColdFusion. He wanted to use this library to prototype a project
concept for adding barcode support to certain parts of our application.
A little bit of play and here&rsquo;s how it works.</p>

<p>The first thing you will need to do is extract the JAR file from the
download ZIP file (the file I used was barbecue-1.5-beta1.jar). Put this
file into your {ColdFusionRoot}\runtime\lib (for single server
installs). You will need to restart the ColdFusion service for CF to
pick that up.</p>

<p>Now lets do some code. First lets create a component called
<em>barcode.cfc</em>. And in there we will have a function called
<strong>getCode128()</strong>, which will return a Code 128 barcode that dynamically
switches between character sets to give the smallest possible encoding.
It will look like so.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;cfcomponent&gt;</span>
	<span style="color: #f8f8f2">&lt;cffunction</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;getCode128&quot;</span> <span style="color: #f8f8f2">returntype</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;any&quot;</span> <span style="color: #f8f8f2">access</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;public&quot;</span> <span style="color: #f8f8f2">output</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;true&quot;</span><span style="color: #f8f8f2">&gt;</span>
		<span style="color: #f8f8f2">&lt;cfargument</span> <span style="color: #f8f8f2">name</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;data&quot;</span> <span style="color: #f8f8f2">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;string&quot;</span> <span style="color: #66d9ef">required</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;true&quot;</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

		<span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">cfsetting</span> <span style="color: #a6e22e">showdebugoutput</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;false&quot;</span><span style="color: #f8f8f2">&gt;</span>

		<span style="color: #f8f8f2">&lt;cfscript&gt;</span>
			<span style="color: #f8f8f2">outStream</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">createObject</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;java&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;java.io.ByteArrayOutputStream&quot;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">init</span><span style="color: #f8f8f2">();</span>

			<span style="color: #75715e">//-----------------------------------------------------------</span>
			<span style="color: #75715e">// Create the barcode, and draw it to a buffered image class.</span>
			<span style="color: #75715e">//-----------------------------------------------------------</span>
			<span style="color: #f8f8f2">barcode</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">createObject</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;java&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;net.sourceforge.barbecue.BarcodeFactory&quot;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">createCode128</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;#arguments.data#&quot;</span><span style="color: #f8f8f2">);</span>
			<span style="color: #f8f8f2">bufferedImage</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">createObject</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;java&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;net.sourceforge.barbecue.BarcodeImageHandler&quot;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">writeJPEG</span><span style="color: #f8f8f2">(barcode,</span> <span style="color: #f8f8f2">outStream);</span>
		<span style="color: #f8f8f2">&lt;/cfscript&gt;</span>

		<span style="color: #75715e">&lt;!--- Return the information as streaming bytes of type image/jpeg ---&gt;</span>
		<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">getPageContext</span><span style="color: #f8f8f2">().</span><span style="color: #a6e22e">getOut</span><span style="color: #f8f8f2">().</span><span style="color: #a6e22e">clearBuffer</span><span style="color: #f8f8f2">()&gt;&lt;cfcontent</span> <span style="color: #f8f8f2">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;image/jpeg&quot;</span> <span style="color: #f8f8f2">variable</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;#outStream.toByteArray()#&quot;</span><span style="color: #f8f8f2">&gt;&lt;cfreturn&gt;</span>
	<span style="color: #f8f8f2">&lt;/cffunction&gt;</span>
<span style="color: #f8f8f2">&lt;/cfcomponent&gt;</span>
</pre></div>


<p>The code is pretty well documented so it should be pretty clear what we
are doing here. Now, to use it we will simply create an instance of our
new component, and call the <strong>getCode128()</strong> function as the source to an
image tag in HTML. Like so.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;cfoutput&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">o</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">createObject</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;component&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;barcode&quot;</span><span style="color: #f8f8f2">)&gt;</span>
<span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">img</span> <span style="color: #a6e22e">src</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;#o.getCode128(&#39;My First Barcode&#39;)#&quot;</span> <span style="color: #f8f8f2">/&gt;</span>

<span style="color: #f8f8f2">&lt;/cfoutput&gt;</span>
</pre></div>
</p>

<p>So there you have it. Give it a go! It was fun!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fusing-barbecue-barcode-in-coldfusion%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Using%20Barbecue%20Barcode%20in%20ColdFusion&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fusing-barbecue-barcode-in-coldfusion%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fusing-barbecue-barcode-in-coldfusion%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fusing-barbecue-barcode-in-coldfusion%2f&title=Using%20Barbecue%20Barcode%20in%20ColdFusion" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/using-barbecue-barcode-in-coldfusion\/';
    var disqus_title = 'Using Barbecue Barcode in ColdFusion';
    var disqus_url = 'http:\/\/adampresley.com\/post\/using-barbecue-barcode-in-coldfusion\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

