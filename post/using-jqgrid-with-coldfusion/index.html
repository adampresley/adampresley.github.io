<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/using-jqgrid-with-coldfusion/" title="Using jqGrid with ColdFusion">Using jqGrid with ColdFusion</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2010.03.19">2010.03.19</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/jquery">jquery</a>, 
        
        <a href="http://adampresley.com/tags/coldfusion">coldfusion</a>, 
        
        <a href="http://adampresley.com/tags/javascript">javascript</a>
        
    

</span>
</footer>

            <p>When looking for a grid solution compatible with jQuery that does not
involve using CFGRID, the best I found has been jqGrid. It has a very
impressive list of features, wide support for various incoming data
formats, and is an all around solid solution. For us ColdFusion
developers, however, just trying to &ldquo;plug it in&rdquo; and go may leave you
scratching your head. So I am here to hopefully get you started using
this nifty grid in your next ColdFusion application.</p>

<p>The very first order of business is to download jqGrid. For simplicity
sake I would start by downloading the whole set of files. Once you&rsquo;ve
done this you must include them on your page. There are four files you
will concern yourself with to start.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">script</span> <span style="color: #a6e22e">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;text/javascript&quot;</span> <span style="color: #a6e22e">src</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js&quot;</span><span style="color: #f8f8f2">&gt;&lt;/</span><span style="color: #f92672">script</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">script</span> <span style="color: #a6e22e">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;text/javascript&quot;</span> <span style="color: #a6e22e">src</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;/js/jqgrid/i18n/grid.locale-en.js&quot;</span><span style="color: #f8f8f2">&gt;&lt;/</span><span style="color: #f92672">script</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">script</span> <span style="color: #a6e22e">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;text/javascript&quot;</span> <span style="color: #a6e22e">src</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;/js/jqgrid/jquery.jqGrid.min.js&quot;</span><span style="color: #f8f8f2">&gt;&lt;/</span><span style="color: #f92672">script</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">link</span> <span style="color: #a6e22e">rel</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;stylesheet&quot;</span> <span style="color: #a6e22e">href</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;/js/jqgrid/ui.jqgrid.css&quot;</span> <span style="color: #a6e22e">type</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;text/css&quot;</span> <span style="color: #f8f8f2">/&gt;</span>
</pre></div>


<p>The above code shows that we need to at least include the jQuery
library, the English locale settings for jqGrid, the jqGrid JavaScript
source, and the appropriate CSS file. The next order of business is to
create a container for jqGrid to live in. For the grid we need to create
a simple, blank table like so.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">table</span> <span style="color: #a6e22e">id</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;myGrid&quot;</span><span style="color: #f8f8f2">&gt;&lt;/</span><span style="color: #f92672">table</span><span style="color: #f8f8f2">&gt;</span>
</pre></div>


<p>That takes care of the markup and necessary includes, so now let&rsquo;s jump
to the ColdFusion side. Server side we need to take some set of data and
return it in a JSON format that jqGrid likes. First let&rsquo;s make a simple
CFM page that gives us the JSON output we need for jqGrid.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;</span><span style="color: #f92672">cfsetting</span> <span style="color: #a6e22e">showdebugoutput</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;false&quot;</span> <span style="color: #f8f8f2">/&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">data</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">queryNew</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;id,name,title,age&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Adam Presley&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Giant nerd&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">31</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">2</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Steve Good&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Flex dude&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">30</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">3</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Adrian Moreno&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Kung foo&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">21</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Chris Jordan&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Mac daddy&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">32</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">5</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Will Belden&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Look how awesome I am&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">33</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">6</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Todd Pires&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Coldbox Voodoo Magic!&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">20</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">queryAddRow</span><span style="color: #f8f8f2">(data)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">7</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Tim Jesperson&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Mr. Limo&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">querySetCell</span><span style="color: #f8f8f2">(data,</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">22</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{}</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result[</span><span style="color: #e6db74">&quot;rows&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[]</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result[</span><span style="color: #e6db74">&quot;page&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result[</span><span style="color: #e6db74">&quot;records&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">data.recordCount)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result[</span><span style="color: #e6db74">&quot;total&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfloop</span> <span style="color: #66d9ef">query</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;data&quot;</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">temp</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">{}</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">temp[</span><span style="color: #e6db74">&quot;id&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">data.id)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">temp[</span><span style="color: #e6db74">&quot;cell&quot;</span><span style="color: #f8f8f2">]</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[]</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">arrayAppend</span><span style="color: #f8f8f2">(temp[</span><span style="color: #e6db74">&quot;cell&quot;</span><span style="color: #f8f8f2">],</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">data.id))</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">arrayAppend</span><span style="color: #f8f8f2">(temp[</span><span style="color: #e6db74">&quot;cell&quot;</span><span style="color: #f8f8f2">],</span> <span style="color: #f8f8f2">data.name)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">arrayAppend</span><span style="color: #f8f8f2">(temp[</span><span style="color: #e6db74">&quot;cell&quot;</span><span style="color: #f8f8f2">],</span> <span style="color: #f8f8f2">data.title)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">arrayAppend</span><span style="color: #f8f8f2">(temp[</span><span style="color: #e6db74">&quot;cell&quot;</span><span style="color: #f8f8f2">],</span> <span style="color: #a6e22e">javaCast</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;int&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">data.age))</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

	<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #a6e22e">arrayAppend</span><span style="color: #f8f8f2">(result[</span><span style="color: #e6db74">&quot;rows&quot;</span><span style="color: #f8f8f2">],</span> <span style="color: #f8f8f2">temp)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;/cfloop&gt;</span>

<span style="color: #f8f8f2">&lt;cfoutput&gt;#</span><span style="color: #a6e22e">serializeJson</span><span style="color: #f8f8f2">(result)#&lt;/cfoutput&gt;</span>
</pre></div>


<p>The first part of this code (gridjson.cfm) is simple. We are just
crafting a query by hand for demonstration purposes. The result
structure could use a bit of explanation. jqGrid expects a few things in
the JSON response. First it expects that all the grid data be in an
array named <strong>rows</strong>. Each item in this array is an object that contains
two keys: <strong>id</strong> and <strong>cell</strong>. The <strong>id</strong> key can be thought of as the
primary key value for the record. The <strong>cell</strong> key contains an array of
all the record&rsquo;s values. In our example we include <strong>id</strong>, <strong>name</strong>,
<strong>title</strong>, and <strong>age</strong>. Also notice we include keys for <strong>page</strong>,
<strong>records</strong>, and <strong>total</strong>. These keys are used for grid paging, which
we will not investigate in this posting. I&rsquo;d also like to point out that
jqGrid by default is expecting a certain format of JSON to come back.
This is why we are so explicit in how we are crafting the JSON response.
Also note I am using <em>array notation</em> when building my structures. Why?
Because the ColdFusion method <strong>serializeJson</strong> will maintain key case
when array notation is used. If you do not use array notation, the
structure keys are capitalized. JavaScript is a case-sensitive language
don&rsquo;t forget, so maintaining case is pretty important. Now that we have
a valid JSON response coming back, let&rsquo;s build some JavaScript to
actually build the grid. The grid works by using a jQuery selector
against the table we created, and calling the <strong>jqGrid</strong> method. This
method potentially takes a <em>lot</em> of parameters, but we will only concern
ourselves with the few necessary to get a grid working. Take a look.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #a6e22e">$</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;#myGrid&quot;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">jqGrid</span><span style="color: #f8f8f2">({</span>
	<span style="color: #a6e22e">url</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;gridjson.cfm&quot;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">datatype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;json&quot;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">height</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">165</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">450</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">mtype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;POST&quot;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">emptyrecords</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;No employees to display.&quot;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">colNames</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">[</span> <span style="color: #e6db74">&quot;Name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;Age&quot;</span> <span style="color: #f8f8f2">],</span>
	<span style="color: #a6e22e">colModel</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">[</span>
		<span style="color: #f8f8f2">{</span> <span style="color: #a6e22e">name</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;name&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">45</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">sortable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">editable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span> <span style="color: #f8f8f2">},</span>
		<span style="color: #f8f8f2">{</span> <span style="color: #a6e22e">name</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;title&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">65</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">sortable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">editable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span> <span style="color: #f8f8f2">},</span>
		<span style="color: #f8f8f2">{</span> <span style="color: #a6e22e">name</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;age&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">35</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">sortable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">editable</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span> <span style="color: #f8f8f2">}</span>
	<span style="color: #f8f8f2">]</span>
<span style="color: #f8f8f2">});</span>
</pre></div>
</p>

<p>As you can see we select the table <em>myGrid</em> and call the <strong>jqGrid</strong>
method against it. From here we specify our <em>gridjson.cfm</em> page we
crafted above to supply the JSON data for the grid. We also make sure to
specify that the grid is expecting JSON as the response by setting the
<strong>datatype</strong> to &ldquo;json&rdquo;. The other important pieces are the <strong>colNames</strong>
and <strong>colModel</strong> keys. <strong>colNames</strong> are what header columns are actually
<em>displayed</em> in the grid. <strong>colModel</strong> is the fun part. It is an array of
objects, each object representing a column in the JSON data. Here the
<strong>name</strong> key is the name of the column coming back. The <strong>width</strong> key
simply specifies how wide this column should display. <strong>sortable</strong> and
<strong>editable</strong> are to determine if the column can be sorted or edited. Put
it all together, and you have a working jqGrid! Have fun with jQuery,
and happy coding!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fusing-jqgrid-with-coldfusion%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Using%20jqGrid%20with%20ColdFusion&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fusing-jqgrid-with-coldfusion%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fusing-jqgrid-with-coldfusion%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fusing-jqgrid-with-coldfusion%2f&title=Using%20jqGrid%20with%20ColdFusion" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/using-jqgrid-with-coldfusion\/';
    var disqus_title = 'Using jqGrid with ColdFusion';
    var disqus_url = 'http:\/\/adampresley.com\/post\/using-jqgrid-with-coldfusion\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

