<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/webservice-wsdl-document-consumption-in-coldfusion/" title="Webservice WSDL Document Consumption in ColdFusion">Webservice WSDL Document Consumption in ColdFusion</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2009.12.30">2009.12.30</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/coldfusion">coldfusion</a>
        
    

</span>
</footer>

            <p>This question was posted on the Adobe ColdFusion forums (found here at
<a href="http://forums.adobe.com/thread/546708?tstart=0">http://forums.adobe.com/thread/546708?tstart=0</a>).</p>

<blockquote>
<p>Does anyone know of a service for this compatible with CF? I need to
display an amount for Korean Won and USD on a checkout form and the
service at
<a href="http://www.xmethods.net/sd/2001/CurrencyExchangeService.wsdl">http://www.xmethods.net/sd/2001/CurrencyExchangeService.wsdl</a> doesn&rsquo;t
exist anymore. I searched Google for a while but didn&rsquo;t find much.</p>

<p>Thanks!</p>
</blockquote>

<p>The issue was in understanding how to read a raw WSDL (Web Service
Description Language) document. I&rsquo;ll be the first to admit that these
can be a bit daunting, but after you know a little about how they are
typically structured, you can surmise what methods and their arguments
are available to you.</p>

<p>The WSDL in question can be found here at
<a href="http://www.webservicex.net/CurrencyConvertor.asmx?WSDL">http://www.webservicex.net/CurrencyConvertor.asmx?WSDL</a>. Go ahead and
open that and take a look. The first thing we can see about this
document is at the top with the tag declaration. Inside here we see an
element declaration (as seen by the tag) named ConversionRate. This is a
clue into what methods may be available.</p>

<p>To be certain you want to find definitions. These are the actual methods
that are defined in the service. Looking at this document we can see
three distinct methods: CurrencyConvertorSoap, CurrencyConvertorHttpGet,
and CurrencyConvertorHttpPost. All of these methods have the same name,
&ldquo;ConversionRate&rdquo;. This is seen by looking at the tag under the tag.</p>

<p>The reason for three methods with the same operation name becomes more
apparent when we go down and examine the tags. These tags actually
specify the details of HOW a given method can be called. You&rsquo;ll notice
that there are three bindings (actually there are four, but one is for a
different SOAP binding) here. One for SOAP, POST, and GET. Each of those
points to the appropriate portTypes that we saw above. How can we tell?
Take a look at the &ldquo;type&rdquo; attribute on the tag. It will point to the
portType definitions above.</p>

<p>Ok, that&rsquo;s cool. So we know what methods are available, but how do we
know what arguments to pass to these methods? Let&rsquo;s take a look at the
SOAP method version of &ldquo;ConversionRate&rdquo;. At the bottom of that
definition you will see and tags. These specify what inputs and outputs
are expected. Input is what we wish to look at first.</p>

<p>In this method the tag contains a message attribute with the value of
&ldquo;tns:ConversionRateSoapIn&rdquo;. This tells the service that the input, or
arguments, expected are defined in the &ldquo;ConversionRateSoapIn&rdquo; element.
Scroll up just a tad and you will see it&rsquo;s definition in the tag that
has a name attribute of &ldquo;ConversionRateSoapIn&rdquo;. To get more confusing,
this contains a tag named with an &ldquo;element&rdquo; attribute of
&ldquo;tns:ConversionRate&rdquo;. Remember that element tag we talked about at
first? That is what this attribute is referring to. Go ahead and take a
look at that.</p>

<p>The &ldquo;ConversionRate&rdquo; element is a complex type, which is a sequence of
arguments. There are two actually: FromCurrency, and ToCurrency. Sweet,
there are our arguments. Notice also that their type is &ldquo;tns:Currency&rdquo;.
That is actually just below this element and looks like &ldquo;&rdquo;. This is
actually a list of valid values for our arguments FromCurrency and
ToCurrency.</p>

<p>Great, so that&rsquo;s a lot of work. Welcome to the world of Web Services!
Now let&rsquo;s look at a small snippet of ColdFusion code that actually uses
this service!</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">service</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">createObject</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;webservice&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;http://www.webservicex.net/CurrencyConvertor.asmx?WSDL&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">fromCurrency</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;AUD&quot;</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">toCurrency</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&quot;USD&quot;</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>

<span style="color: #f8f8f2">&lt;cfset</span> <span style="color: #f8f8f2">result</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">service.ConversionRate</span><span style="color: #f8f8f2">(fromCurrency,</span> <span style="color: #f8f8f2">toCurrency)</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
<span style="color: #f8f8f2">&lt;cfdump</span> <span style="color: #66d9ef">var</span><span style="color: #f92672">=</span><span style="color: #e6db74">&quot;#result#&quot;</span> <span style="color: #f92672">/</span><span style="color: #f8f8f2">&gt;</span>
</pre></div>


<p>Woah, that was easy! Just create the object as a type of &ldquo;webservice&rdquo;,
give it the URL to the WSDL, and call the method &ldquo;ConversionRate&rdquo; and
pass in two strings. Here we are getting the conversion rate from
Australia currency to American USD.</p>

<p>I hope this sheds a LITTLE light on the loveliness that is WSDL
documents. Happy coding!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fwebservice-wsdl-document-consumption-in-coldfusion%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Webservice%20WSDL%20Document%20Consumption%20in%20ColdFusion&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fwebservice-wsdl-document-consumption-in-coldfusion%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fwebservice-wsdl-document-consumption-in-coldfusion%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fwebservice-wsdl-document-consumption-in-coldfusion%2f&title=Webservice%20WSDL%20Document%20Consumption%20in%20ColdFusion" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/webservice-wsdl-document-consumption-in-coldfusion\/';
    var disqus_title = 'Webservice WSDL Document Consumption in ColdFusion';
    var disqus_url = 'http:\/\/adampresley.com\/post\/webservice-wsdl-document-consumption-in-coldfusion\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

