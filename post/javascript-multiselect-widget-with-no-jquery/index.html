<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/javascript-multiselect-widget-with-no-jquery/" title="JavaScript Multiselect Widget, With No jQuery!">JavaScript Multiselect Widget, With No jQuery!</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2015.01.21">2015.01.21</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/javascript">javascript</a>
        
    

</span>
</footer>

            <p>Last night I decided to write a multi-select JavaScript widget. I need such a widget to allow the users of a little app I am working on to select one or more items. I wanted it to look a little more pretty than the default <em>&lt;select&gt;</em> box and I also didn&rsquo;t want to force users to have to hold CTRL to select more than one item. I did a little searching around the internet and found a number of controls that do exactly what I want, but all of them required an external library, such as jQuery, Angular, and even Mootools. This particular project is <strong>not</strong> using jQuery on purpose which makes those libraries out of the question. So I start writing my own.</p>

<p><img src="/assets/adampresley/images/posts/multiselect-1.png" alt="Screenshot" /></p>

<!-- excerpt -->

<p>The widget (currently) attaches an object to the <em>window</em> object called <strong>multiselect</strong>. To use it you simply call the <strong>render()</strong> function with the ID of an element to render to, and data to drive the elements that get rendered for selection. Inside <strong>render()</strong> an outer <em><div></em> element is created, followed by a <em><ul></em>. I then iterate over the data collection passed in with the config to render <em>&lt;li&gt;</em> elements. Finally <strong>render()</strong> returns an object to the caller so they can do things like return an array of selected items. Calling it looks something like the code below. In this example I am rendering the widget into a <em>&lt;div&gt;</em> named <strong>food</strong> and am providing a set food types as data. Then I am attaching a <em>click</em> event to a button to log the selected items to the console.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">foodSelector</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">window.</span><span style="color: #a6e22e">multiselect</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">render</span><span style="color: #f8f8f2">({</span>
    <span style="color: #a6e22e">elementId</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;food&quot;</span><span style="color: #f8f8f2">,</span>
    <span style="color: #a6e22e">data</span><span style="color: #f92672">:</span> <span style="color: #f8f8f2">[</span>
        <span style="color: #f8f8f2">{</span> <span style="color: #e6db74">&quot;value&quot;</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;text&quot;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;Greek&quot;</span> <span style="color: #f8f8f2">},</span>
        <span style="color: #f8f8f2">{</span> <span style="color: #e6db74">&quot;value&quot;</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;text&quot;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;Thai&quot;</span> <span style="color: #f8f8f2">},</span>
        <span style="color: #f8f8f2">{</span> <span style="color: #e6db74">&quot;value&quot;</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">3</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;text&quot;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;American&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;selected&quot;</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">true</span> <span style="color: #f8f8f2">},</span>
        <span style="color: #f8f8f2">{</span> <span style="color: #e6db74">&quot;value&quot;</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">4</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;text&quot;</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&quot;Mexican&quot;</span> <span style="color: #f8f8f2">}</span>
    <span style="color: #f8f8f2">]</span>
<span style="color: #f8f8f2">});</span>

<span style="color: #f8f8f2">document.</span><span style="color: #a6e22e">getElementById</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;getSelected&quot;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">addEventListener</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;click&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">()</span> <span style="color: #f8f8f2">{</span>
    <span style="color: #a6e22e">console</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">log</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">foodSelector</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getSelected</span><span style="color: #f8f8f2">());</span>
    <span style="color: #a6e22e">console</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">log</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">foodSelector</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getSelectedIndexes</span><span style="color: #f8f8f2">());</span>
    <span style="color: #a6e22e">console</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">log</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">foodSelector</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getSelectedValues</span><span style="color: #f8f8f2">());</span>
<span style="color: #f8f8f2">});</span>
</pre></div>


<p>What was fun about this was really digging into what modern JavaScript and CSS can do without the aide of common libraries like jQuery or AngularJS. I clearly have missed much in the last couple of years! You can do nearly anything jQuery can do with just plain, vanilla JavaScript. For example, doing query selectors?</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">allWithThisClass</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">document.</span><span style="color: #a6e22e">querySelectorAll</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;.thisClass&quot;</span><span style="color: #f8f8f2">);</span>
</pre></div>
</p>

<p>Or how about array iteration using the <em>for each</em> style?</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">var</span> <span style="color: #a6e22e">a</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">[</span><span style="color: #ae81ff">1</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">2</span><span style="color: #f8f8f2">,</span> <span style="color: #ae81ff">3</span><span style="color: #f8f8f2">];</span>
<span style="color: #a6e22e">a</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">forEach</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">i</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
	<span style="color: #a6e22e">console</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">log</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">i</span><span style="color: #f8f8f2">);</span>
<span style="color: #f8f8f2">});</span>
</pre></div>
</p>

<p>Great right? JavaScript has come a <em>long</em> way! If you are interested in checking out my widget, or even just the code you can find it on Github. If JavaScript package management is more your speed it can also be found on Bower.</p>

<ul>
<li>Github - <a href="https://github.com/adampresley/multiselect">https://github.com/adampresley/multiselect</a></li>
<li>Bower Search - simple-multiselect</li>
</ul>

<p>Here are some links that helped me out and you might find useful.</p>

<ul>
<li><a href="http://youmightnotneedjquery.com/">You Might Not Need jQuery</a></li>
<li><a href="http://youmightnotneedjquery.com/">DOM Selection Without jQuery</a></li>
<li><a href="https://developer.mozilla.org/en-US/">Mozilla Developer Network</a></li>
</ul>

<p>Cheers, and happy coding!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fjavascript-multiselect-widget-with-no-jquery%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=JavaScript%20Multiselect%20Widget%2c%20With%20No%20jQuery%21&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fjavascript-multiselect-widget-with-no-jquery%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fjavascript-multiselect-widget-with-no-jquery%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fjavascript-multiselect-widget-with-no-jquery%2f&title=JavaScript%20Multiselect%20Widget%2c%20With%20No%20jQuery%21" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/javascript-multiselect-widget-with-no-jquery\/';
    var disqus_title = 'JavaScript Multiselect Widget, With No jQuery!';
    var disqus_url = 'http:\/\/adampresley.com\/post\/javascript-multiselect-widget-with-no-jquery\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

