<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/using-a-middleware-in-your-go-web-applications/" title="Using A Middleware in Your Go Web Applications">Using A Middleware in Your Go Web Applications</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2015.02.08">2015.02.08</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/golang">golang</a>
        
    

</span>
</footer>

            

<p><img src="/assets/adampresley/images/posts/62H.jpg" alt="Bikes Lined Up" />
<em>Image copyright <a href="http://www.gratisography.com/">Ryan McGuire</a></em></p>

<p>Middleware in Go HTTP applications is a way to chain HTTP handlers in a sequence to alter the request and response chain prior to your primary handler getting it. This is useful for activities such as logging, input sanitization, handling authorization and security, and more. This concept is supported in the Go standard library with functions like <a href="http://golang.org/pkg/net/http/#StripPrefix">http.StripPrefix</a> and <a href="http://golang.org/pkg/net/http/#TimeoutHandler">http.TimeoutHandler</a>. Each of the previously mentioned functions take a reference to a handler and return a new handler, wrapping the original with its own logic and processing of the request and response chain. In this post I will show how you can use a middleware called <a href="https://github.com/justinas/alice">Alice</a> to perform this task.</p>

<!-- excerpt -->

<h3 id="first-middleware-function:ea4a8a61b964d518fba340d89a45d92c">First Middleware Function</h3>

<p>First let&rsquo;s take a look at what a middleware function looks like. Alice is a particularly beautiful solution because of how simple it is. It doesn&rsquo;t try to get fancy, or do any weird reflection nonsense. Alice simply chains HTTP handlers together to alter request and response. As such an Alice middleware function is simple. It takes one argument of type <code>http.Handler</code> and returns an <code>http.Handler</code>. So for the sake of this example let&rsquo;s assume we wish to display some log information to the console for each request. Perhaps the HTTP method and path information. And maybe we can also display how long the request took to run. Here&rsquo;s what such a middleware method would look like.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">Logger</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">h</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">HandlerFunc</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">func</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">writer</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">ResponseWriter</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span> <span style="color: #f92672">*</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Request</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">startTime</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">time</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Now</span><span style="color: #f8f8f2">()</span>
      <span style="color: #a6e22e">h</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">ServeHTTP</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">writer</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">)</span>
      <span style="color: #a6e22e">log</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Printf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;%s - %s (%v)\n&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Method</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">URL</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Path</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">time</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Since</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">startTime</span><span style="color: #f8f8f2">))</span>
   <span style="color: #f8f8f2">})</span>
<span style="color: #f8f8f2">}</span>
</pre></div>


<p>The above function takes in an HTTP handler and grabs the current timestamp. It then executes the passed in handler. Finally it logs to the console the HTTP method (VERB), the path information, and how much time elapsed from the start timestamp. That was easy!</p>

<h3 id="chaining-them-together:ea4a8a61b964d518fba340d89a45d92c">Chaining Them Together</h3>

<p>Now that we have a middleware wrapper let&rsquo;s chain them together. In a <a href="{% post_url 2014-11-18-returning-an-http-server-from-a-function-in-go %}">previous post</a> I demonstrated returning an HTTP listener from a function. I am going to build on that by taking the result from that function and wrapping Alice around it, giving your handlers a middleware wrapper. This is the code we setup previously to get an HTTP listener.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f92672">import</span> <span style="color: #f8f8f2">(</span>
   <span style="color: #e6db74">&quot;fmt&quot;</span>
   <span style="color: #e6db74">&quot;net/http&quot;</span>

   <span style="color: #e6db74">&quot;github.com/adampresley/myproject/controllers/versionController&quot;</span>

   <span style="color: #e6db74">&quot;github.com/gorilla/mux&quot;</span>
<span style="color: #f8f8f2">)</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">setupHttpRouter</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #a6e22e">router</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">mux</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">NewRouter</span><span style="color: #f8f8f2">()</span>
   <span style="color: #a6e22e">router</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">HandleFunc</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;/&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">versionController</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">GetVersion</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">Methods</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;GET&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;OPTIONS&quot;</span><span style="color: #f8f8f2">)</span>

   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">router</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">NewHttpServer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #66d9ef">string</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">*</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #a6e22e">router</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">setupHttpRouter</span><span style="color: #f8f8f2">()</span>
   <span style="color: #a6e22e">listener</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&amp;</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span><span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">Addr</span><span style="color: #f8f8f2">:</span>    <span style="color: #a6e22e">fmt</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Sprintf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;%s:%d&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span><span style="color: #f8f8f2">),</span>
      <span style="color: #a6e22e">Handler</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">router</span><span style="color: #f8f8f2">,</span>
   <span style="color: #f8f8f2">}</span>

   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">listener</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<p>Let&rsquo;s modify the <strong>NewHttpServer()</strong> function a bit. Here is where we will take our HTTP router and add Alice. Alice is easy to setup. To start you call <strong>New()</strong> passing in each handler you want to execute, <em>in the order that you want them to execute</em>. That returns a structure off which you will call <strong>Then()</strong>, which tells Alice the final handler that must execute, which needs to be our router. This sample assumes the logger middleware function we setup previously is in a directory named <strong>middleware</strong>. Here&rsquo;s how it comes together.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">NewHttpServer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #66d9ef">string</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">*</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #a6e22e">router</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">setupHttpRouter</span><span style="color: #f8f8f2">()</span>

   <span style="color: #a6e22e">server</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">alice</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">New</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">middleware</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Logger</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">Then</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">router</span><span style="color: #f8f8f2">)</span>

   <span style="color: #a6e22e">listener</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&amp;</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span><span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">Addr</span><span style="color: #f8f8f2">:</span>    <span style="color: #a6e22e">fmt</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Sprintf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;%s:%d&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span><span style="color: #f8f8f2">),</span>
      <span style="color: #a6e22e">Handler</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">server</span><span style="color: #f8f8f2">,</span>
   <span style="color: #f8f8f2">}</span>

   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">listener</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<h3 id="screenshot:ea4a8a61b964d518fba340d89a45d92c">Screenshot</h3>

<p><img src="/assets/adampresley/images/posts/example-logger-middleware.png" alt="Example logger middleware" /></p>

<h3 id="code-listing:ea4a8a61b964d518fba340d89a45d92c">Code Listing</h3>

<p>Here is the code in full.</p>

<h4 id="middleare-logger-go:ea4a8a61b964d518fba340d89a45d92c">middleare/Logger.go</h4>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f92672">package</span> <span style="color: #a6e22e">middleware</span>

<span style="color: #f92672">import</span> <span style="color: #f8f8f2">(</span>
   <span style="color: #e6db74">&quot;log&quot;</span>
   <span style="color: #e6db74">&quot;net/http&quot;</span>
   <span style="color: #e6db74">&quot;time&quot;</span>
<span style="color: #f8f8f2">)</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">Logger</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">h</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span><span style="color: #f8f8f2">)</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">HandlerFunc</span><span style="color: #f8f8f2">(</span><span style="color: #66d9ef">func</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">writer</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">ResponseWriter</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span> <span style="color: #f92672">*</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Request</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">startTime</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">time</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Now</span><span style="color: #f8f8f2">()</span>
      <span style="color: #a6e22e">h</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">ServeHTTP</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">writer</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">)</span>
      <span style="color: #a6e22e">log</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Printf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;%s - %s (%v)\n&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Method</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">request</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">URL</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Path</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">time</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Since</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">startTime</span><span style="color: #f8f8f2">))</span>
   <span style="color: #f8f8f2">})</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<h4 id="listener-httplistener-go:ea4a8a61b964d518fba340d89a45d92c">listener/HttpListener.go</h4>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f92672">import</span> <span style="color: #f8f8f2">(</span>
   <span style="color: #e6db74">&quot;fmt&quot;</span>
   <span style="color: #e6db74">&quot;net/http&quot;</span>

   <span style="color: #e6db74">&quot;github.com/adampresley/myproject/controllers/versionController&quot;</span>

   <span style="color: #e6db74">&quot;github.com/gorilla/mux&quot;</span>
   <span style="color: #e6db74">&quot;github.com/justinas/alice&quot;</span>
<span style="color: #f8f8f2">)</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">setupHttpRouter</span><span style="color: #f8f8f2">()</span> <span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Handler</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #a6e22e">router</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">mux</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">NewRouter</span><span style="color: #f8f8f2">()</span>
   <span style="color: #a6e22e">router</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">HandleFunc</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;/&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">versionController</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">GetVersion</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">Methods</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;GET&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&quot;OPTIONS&quot;</span><span style="color: #f8f8f2">)</span>

   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">router</span>
<span style="color: #f8f8f2">}</span>

<span style="color: #66d9ef">func</span> <span style="color: #a6e22e">NewHttpServer</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">address</span> <span style="color: #66d9ef">string</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span> <span style="color: #66d9ef">int</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">*</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span> <span style="color: #f8f8f2">{</span>
   <span style="color: #a6e22e">router</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">setupHttpRouter</span><span style="color: #f8f8f2">()</span>

   <span style="color: #a6e22e">server</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">alice</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">New</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">middleware</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Logger</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">Then</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">router</span><span style="color: #f8f8f2">)</span>

   <span style="color: #a6e22e">listener</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&amp;</span><span style="color: #a6e22e">http</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Server</span><span style="color: #f8f8f2">{</span>
      <span style="color: #a6e22e">Addr</span><span style="color: #f8f8f2">:</span>    <span style="color: #a6e22e">fmt</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">Sprintf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;%s:%d&quot;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">address</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">port</span><span style="color: #f8f8f2">),</span>
      <span style="color: #a6e22e">Handler</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">server</span><span style="color: #f8f8f2">,</span>
   <span style="color: #f8f8f2">}</span>

   <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">listener</span>
<span style="color: #f8f8f2">}</span>
</pre></div>
</p>

<p>Cheers, and happy coding!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fusing-a-middleware-in-your-go-web-applications%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Using%20A%20Middleware%20in%20Your%20Go%20Web%20Applications&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fusing-a-middleware-in-your-go-web-applications%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fusing-a-middleware-in-your-go-web-applications%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fusing-a-middleware-in-your-go-web-applications%2f&title=Using%20A%20Middleware%20in%20Your%20Go%20Web%20Applications" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/using-a-middleware-in-your-go-web-applications\/';
    var disqus_title = 'Using A Middleware in Your Go Web Applications';
    var disqus_url = 'http:\/\/adampresley.com\/post\/using-a-middleware-in-your-go-web-applications\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

