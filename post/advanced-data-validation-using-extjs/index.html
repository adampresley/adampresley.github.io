<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Adam.Blog()</title>
        <meta name="author">
        <meta name="description" content="I&#39;m bringin&#39; nerdy back">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="generator" content="Hugo 0.16-DEV" />
          <link href="http://adampresley.com/post/index.xml" rel="alternate" type="application/rss+xml" title="Adam.Blog()" />
          <link href="http://adampresley.com/post/index.xml" rel="feed" type="application/rss+xml" title="Adam.Blog()" />
        <link href='//fonts.googleapis.com/css?family=Roboto:400,300,700|Noto+Serif:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="http://adampresley.com/css/styles.css">
        <link rel="icon" href="http://adampresley.com/favicon.ico">
        <link rel="apple-touch-icon" href="http://adampresley.com/apple-touch-icon.png" />
        <link rel="stylesheet" href="http://adampresley.com/css/highlightjs/monokai.css">
        <script src="http://adampresley.com/js/vendor/modernizr-2.8.0.min.js"></script>
        <style>
        .site-header h2 .logo {
        background: url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat 0 0;
        }
        @media (min--moz-device-pixel-ratio: 1.3), (-o-min-device-pixel-ratio: 2.6 / 2), (-webkit-min-device-pixel-ratio: 1.3), (min-device-pixel-ratio: 1.3), (min-resolution: 1.3dppx) {
          .site-header h2 .logo {
            background-image: url(http://adampresley.com/assets/images/code-background-screenshot.png);
        }}
       .site-header {
         background: #2a373d url(http://adampresley.com/assets/images/code-background-screenshot.png) no-repeat center center;
         z-index: -1;
        }
        </style>
    </head>
    <body>
        
        <header class="site-header">
          <div class="transparent-layer">
              <h2>Adam.Blog()</h2>
          </div>
        </header>


<div class="container clearfix">
    <main role="main" class="content">
        <article class="post">
            <a class="btn home" href="http://adampresley.com/" title="">&laquo; </a>
            
<h1><a href="http://adampresley.com/post/advanced-data-validation-using-extjs/" title="Advanced Data Validation Using ExtJs">Advanced Data Validation Using ExtJs</a></h1>

<footer class="post-info"> <span class="post-meta"><time datetime="2008.05.07">2008.05.07</time>

    &middot; 
        
        <a href="http://adampresley.com/tags/development">development</a>, 
        
        <a href="http://adampresley.com/tags/javascript">javascript</a>, 
        
        <a href="http://adampresley.com/tags/extjs">extjs</a>
        
    

</span>
</footer>

            <p>While working on my personal project tonight I finally got around to
going over some of the new examples in the <a href="http://www.extjs.com">ExtJs</a>
<a href="http://extjs.com/deploy/dev/docs/">documentation</a>. In this case they are
demonstrating having a form with a password field, and a confirmation
password field, and how you can validate that the second password entered
is the same as the first. That&rsquo;s fine and dandy, but I did need it to
do a little more. I need this validation to verify that the entered password
is at least five characters, and contains at least one number or special
character from a specific set.</p>

<p>So here is an excerpt of the form definitions. I have the first password
box, and a second for confirmation. Notice the &ldquo;vtype&rdquo; is set to
&ldquo;password&rdquo;. This is key.</p>

<div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #f8f8f2">{</span>
	<span style="color: #a6e22e">fieldLabel</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;Password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">id</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">name</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">allowBlank</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">xtype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;textfield&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">inputType</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">vtype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">200</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">maxLength</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">64</span>
<span style="color: #f8f8f2">},</span>
<span style="color: #f8f8f2">{</span>
	<span style="color: #a6e22e">fieldLabel</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;Confirm&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">id</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;passwordConfirm&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">name</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;passwordConfirm&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">xtype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;textfield&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">inputType</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">vtype</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">allowBlank</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">false</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">width</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">200</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">maxLength</span><span style="color: #f92672">:</span> <span style="color: #ae81ff">64</span><span style="color: #f8f8f2">,</span>
	<span style="color: #a6e22e">initialPasswordField</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;password&#39;</span>
<span style="color: #f8f8f2">}</span>
</pre></div>


<p>Now, prior to this you need to define the behavior for the password
validation. This is done by vtypes. In ExtJs a vtype is basically an
object with custom data validation functions that return true or false
upon success of validation. They also include a message to display in a
QuickTip when a data validation error occurs. Here is the code I used to
validate the passwords according to the rules mentioned above.</p>

<p><div class="highlight" style="background: #272822"><pre style="line-height: 125%"><span></span><span style="color: #a6e22e">Ext</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">apply</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">Ext</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">form</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">VTypes</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
	<span style="color: #a6e22e">password</span><span style="color: #f92672">:</span> <span style="color: #66d9ef">function</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">value</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">field</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
		<span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">field</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">initialPasswordField</span><span style="color: #f8f8f2">)</span> <span style="color: #f8f8f2">{</span>
			<span style="color: #66d9ef">var</span> <span style="color: #a6e22e">pwd</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">Ext</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getCmp</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">field</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">initialPasswordField</span><span style="color: #f8f8f2">);</span>
			<span style="color: #66d9ef">this</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">passwordText</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;Confirmation does not match your intial password entry.&#39;</span><span style="color: #f8f8f2">;</span>
			<span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">value</span> <span style="color: #f92672">==</span> <span style="color: #a6e22e">pwd</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">getValue</span><span style="color: #f8f8f2">());</span>
		<span style="color: #f8f8f2">}</span>

		<span style="color: #66d9ef">this</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">passwordText</span> <span style="color: #f92672">=</span> <span style="color: #e6db74">&#39;Passwords must be at least 5 characters, containing either a number, or a valid special character (!@#$%^&amp;*()-_=+)&#39;</span><span style="color: #f8f8f2">;</span>
		<span style="color: #66d9ef">var</span> <span style="color: #a6e22e">hasSpecial</span> <span style="color: #f92672">=</span> <span style="color: #a6e22e">value</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">match</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">/[0-9!@#\$%\^&amp;\*\(\)\-_=\+]+/i</span><span style="color: #f8f8f2">);</span>
		<span style="color: #66d9ef">var</span> <span style="color: #a6e22e">hasLength</span> <span style="color: #f92672">=</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">value</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">length</span> <span style="color: #f92672">&gt;=</span> <span style="color: #ae81ff">5</span><span style="color: #f8f8f2">);</span>
		<span style="color: #66d9ef">return</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">hasSpecial</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">hasLength</span><span style="color: #f8f8f2">);</span>
	<span style="color: #f8f8f2">},</span>
	<span style="color: #a6e22e">passwordText</span><span style="color: #f92672">:</span> <span style="color: #e6db74">&#39;Passwords must be at least 5 characters, containing either a number, or a valid special character (!@#$%^&amp;*()-_=+)&#39;</span>
<span style="color: #f8f8f2">});</span>
</pre></div>
</p>

<p>If you aren&rsquo;t familiar with Ext.apply this is a function that takes two
objects and combines them. And here is no exception. We are combining a
new object with <strong>OUR</strong> definition of the password validation with the
existing VTypes object.</p>

<p>If you noticed the property &ldquo;initialPasswordField&rdquo; in the confirmation
field, you&rsquo;ll see that the first thing our password validation function
does is check to see if the form field has this property. If it does
that means we are validating data for the confirmation field, and we
want to make sure it matches the first password box.</p>

<p>If the current field being validated is not the confirmation field, but
instead the initial password field, I am defining two variables:
<em>hasSpecial</em>, and <em>hasLength</em>. These are the two criteria I am testing
against. The <em>hasLength</em> is obvious; true or false if the value is
greater than or equal to five characters in length. The <em>hasSpecial</em> is
simply a regular expression that checks to see if the value has at least
one number, or one character in the list: <em>!@#\$%\^&amp;*()-_=+</em>.</p>

<p>Also notice the <em>passwordText</em> property. This is the default message to
use when the data validation fails. You will also see that I am changing
the password text based on which field you are working with when the
data validation occurs.</p>

<p>I, for one, am quite excited about the power and flexibility of how data
validation and vtypes works with ExtJs. Cheers, and happy coding!</p>

            <ul class="share-buttons">
    <li></li>
    <li>
        <a class="icon-facebook-squared" href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2fadampresley.com%2fpost%2fadvanced-data-validation-using-extjs%2f" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-twitter" href="https://twitter.com/share?text=Advanced%20Data%20Validation%20Using%20ExtJs&amp;url=http%3a%2f%2fadampresley.com%2fpost%2fadvanced-data-validation-using-extjs%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-gplus" href="https://plus.google.com/share?url=http%3a%2f%2fadampresley.com%2fpost%2fadvanced-data-validation-using-extjs%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;" title=""></a>
    </li>
    <li>
        <a class="icon-linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fadampresley.com%2fpost%2fadvanced-data-validation-using-extjs%2f&title=Advanced%20Data%20Validation%20Using%20ExtJs" onclick="window.open(this.href, 'linkedin-share', 'width=600,height=494');return false;" title=""></a>
    </li>
</ul>

        </article>
        <div class="comments">
            <h3></h3>
            <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'adampresleyblog';
    var disqus_identifier = 'http:\/\/adampresley.com\/post\/advanced-data-validation-using-extjs\/';
    var disqus_title = 'Advanced Data Validation Using ExtJs';
    var disqus_url = 'http:\/\/adampresley.com\/post\/advanced-data-validation-using-extjs\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
    </main>
    <aside class="author">
  <img class="profile-image" src="http://adampresley.com/assets/adampresley/images/adam-bowtie.png" alt="Adam Presley" />
  <p class="name"> 
  <strong>Adam Presley</strong></p>
  <p class="address">Texas, USA</p>
  <p class="link"></p>
  <ul class="social">
    
<li><a href="//twitter.com/adampresley" class="icon-twitter" target="_blank" title="Twitter"></a></li>













<li><a href="//github.com/adampresley" class="icon-github" target="_blank" title="Github"></a></li>




<li><a href="http://adampresley.com/post/index.xml" class="icon-rss" target="_blank" title="RSS"></a></li>

  </ul>
  <br><br>
</aside>

</div>

<footer class="main-footer">
  <div class="container clearfix">
        <a class="icon-rss" href="http://adampresley.com/post/index.xml" title="RSS"></a>
        <p>&copy; 2016 &middot; Adam Presley. All Rights Reserved. Powered by <a href="http://gohugo.io">Hugo</a>.</p>
  </div>
</footer>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>window.jQuery || document.write('<script src="http:\/\/adampresley.com\/js/vendor/jquery-1.11.0.min.js"><\/script>')</script>
<script src="http://adampresley.com/js/plugins.js"></script>

<!-- Google Analytics -->
<script>
  var _gaq=[['_setAccount','UA-44927419-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

</body>
</html>

